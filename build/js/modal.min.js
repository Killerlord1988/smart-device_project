var modalOpen=document.querySelector(".modal-overlay--open"),modalClose=document.querySelector(".modal__close"),modal=document.querySelector(".modal"),body=document.querySelector("body"),callName=document.querySelector("[name=call-name]");console.log(callName);var phone=document.querySelector("[name=call-phone]"),comment=document.querySelector("[name=call-comment]"),form=document.querySelector(".form--modal"),isStorage=!0,nameStorage="",phoneStorage="",commentStorage="";try{nameStorage=localStorage.getItem("nameStorage"),phoneStorage=localStorage.getItem("phoneStorage"),commentStorage=localStorage.getItem("commentStorage")}catch(e){isStorage=!1}var setVisible=function(e){e?(body.classList.add("modal-overlay--open"),document.addEventListener("keydown",escapeClickHandler)):(body.classList.remove("modal-overlay--open"),modal.classList.remove("modal-overlay--show"),document.removeEventListener("keydown",escapeClickHandler))},escapeClickHandler=function(e){"Escape"===e.key&&(e.preventDefault(),setVisible(!1))};modal&&modal.addEventListener("click",function(e){e.target===modal&&e.target!==form&&setVisible(!1)}),modalOpen&&modalOpen.addEventListener("click",function(e){e.preventDefault(),modal&&(modal.classList.add("modal-overlay--show"),setVisible(!0),callName.focus()),nameStorage&&phoneStorage&&(callName.value=nameStorage,phone.value=phoneStorage,comment.value=commentStorage)}),modalClose&&modalClose.addEventListener("click",function(e){e.preventDefault(),modal.classList.remove("modal-overlay--show"),setVisible(!1)}),form&&form.addEventListener("submit",function(e){callName.value&&phone.value?isStorage&&(localStorage.setItem("nameStorage",callName.value),localStorage.setItem("phoneStorage",phone.value),localStorage.setItem("commentStorage",comment.value)):e.preventDefault()});