{"version":3,"sources":["anchor.js","modal.js","accordion.js","scrolldown.js","about-description.js","script.js"],"names":["links","document","querySelectorAll","i","length","addEventListener","evt","target","querySelector","dataset","link","scrollIntoView","behavior","block","modalOpen","modalClose","modal","modalOverlayWrapper","body","callName","phone","comment","form","isStorage","nameStorage","phoneStorage","commentStorage","localStorage","getItem","err","setVisible","visible","classList","add","escapeClickHandler","remove","removeEventListener","key","preventDefault","focus","value","setItem","acc","getElementsByClassName","panels","removeActiveClass","arr","cls","contains","closeAllAccordion","forEach","n","toggle","panel","nextElementSibling","promoScroll","scroll","posX","posY","window","scrollTo","e","changeTextHandler","WORDS_COUNT","DEVIDER","tablet","matchMedia","textContainer","originalText","innerText","smallText","split","join","concat","addListener","matches","$","mask","noJs"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\nvar links = document.querySelectorAll('[data-link]');\n\nif (links) {\n  for (var i = 0; i < links.length; i++) {\n\n    links[i].addEventListener('click', function (evt) {\n\n      var target = document.querySelector('[id=' + evt.target.dataset.link + ']');\n\n      if (target) {\n        target.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    });\n  }\n}\n","'use strict';\n\nvar modalOpen = document.querySelector('.modal-overlay--open');\nvar modalClose = document.querySelector('.modal__close');\nvar modal = document.querySelector('.modal');\nvar modalOverlayWrapper = document.querySelector('.modal-overlay__wrapper');\nvar body = document.querySelector('body');\n\nvar callName = document.querySelector('[name=call-name]');\nvar phone = document.querySelector('[name=call-phone]');\nvar comment = document.querySelector('[name=call-comment]');\nvar form = document.querySelector('.form--modal');\n\nvar isStorage = true;\nvar nameStorage = '';\nvar phoneStorage = '';\nvar commentStorage = '';\n\ntry {\n  nameStorage = localStorage.getItem('nameStorage');\n  phoneStorage = localStorage.getItem('phoneStorage');\n  commentStorage = localStorage.getItem('commentStorage');\n} catch (err) {\n  isStorage = false;\n}\n\nvar setVisible = function (visible) {\n  if (visible) {\n    body.classList.add('modal-overlay__wrapper--open');\n    document.addEventListener('keydown', escapeClickHandler);\n  } else {\n    body.classList.remove('modal-overlay__wrapper--open');\n    modal.classList.remove('modal-overlay__wrapper--show');\n    document.removeEventListener('keydown', escapeClickHandler);\n  }\n};\n\nvar escapeClickHandler = function (evt) {\n  if (evt.key === 'Escape') {\n    evt.preventDefault();\n    setVisible(false);\n  }\n};\n\nif (modalOverlayWrapper) {\n  modalOverlayWrapper.addEventListener('click', function (evt) {\n    if (evt.target === modalOverlayWrapper && evt.target !== form) {\n      setVisible(false);\n    }\n  });\n}\n\nif (modalOpen) {\n  modalOpen.addEventListener('click', function (evt) {\n    evt.preventDefault();\n    if (modal) {\n      modal.classList.add('modal-overlay__wrapper--show');\n      setVisible(true);\n      callName.focus();\n    }\n\n    if (nameStorage && phoneStorage) {\n      callName.value = nameStorage;\n      phone.value = phoneStorage;\n      comment.value = commentStorage;\n    }\n  });\n}\n\nif (modalClose) {\n  modalClose.addEventListener('click', function (evt) {\n    evt.preventDefault();\n    modal.classList.remove('modal-overlay__wrapper--show');\n    setVisible(false);\n  });\n}\n\nif (form) {\n  form.addEventListener('submit', function (evt) {\n    if (!callName.value || !phone.value) {\n      evt.preventDefault();\n    } else {\n      if (isStorage) {\n        localStorage.setItem('nameStorage', callName.value);\n        localStorage.setItem('phoneStorage', phone.value);\n        localStorage.setItem('commentStorage', comment.value);\n      }\n    }\n  });\n}\n","'use strict';\n\nvar acc = document.getElementsByClassName('accordion');\nvar panels = document.getElementsByClassName('footer__accordion-panel');\n\ndocument.querySelectorAll('.footer__content .footer__accordion-panel--no-js').forEach(function (n) {\n  n.classList.remove('footer__accordion-panel--no-js');\n});\n\nfunction removeActiveClass(arr, cls) {\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i].classList.contains(cls)) {\n      arr[i].classList.remove(cls);\n    }\n  }\n}\n\nfunction closeAllAccordion() {\n  removeActiveClass(acc, 'accordion--active');\n  removeActiveClass(panels, 'footer__accordion-panel--active');\n}\n\nfor (var i = 0; i < acc.length; i++) {\n  acc[i].addEventListener('click', function (evt) {\n    closeAllAccordion();\n\n    evt.target.classList.toggle('accordion--active');\n\n    var panel = evt.target.nextElementSibling;\n    if (panel.classList.contains('footer__accordion-panel--active')) {\n      panel.classList.remove('footer__accordion-panel--active');\n    } else {\n      panel.classList.add('footer__accordion-panel--active');\n    }\n  });\n}\n","'use strict';\nvar promoScroll = document.querySelector('.promo__scroll p');\n\nfunction scroll(posX, posY) {\n  window.scrollTo(posX, posY);\n}\n\npromoScroll.addEventListener('click', function () {\n  scroll(0, 1000);\n});\n\npromoScroll.addEventListener('keydown', function (e) {\n  if (e.key === 'Enter') {\n    scroll(0, 1000);\n  }\n});\n","'use strict';\n\nvar WORDS_COUNT = 23;\nvar DEVIDER = '..';\n\nvar tablet = window.matchMedia('(max-width: 1023px)');\n\nvar textContainer = document.querySelector('.about p:last-of-type');\n\nvar originalText = textContainer.innerText;\n\nvar smallText = originalText.split(' ', WORDS_COUNT).join(' ').concat(DEVIDER);\n\nif (textContainer) {\n  var changeTextHandler = function (evt) {\n    if (evt.matches) {\n      textContainer.innerText = smallText;\n    } else {\n      textContainer.innerText = originalText;\n    }\n  };\n}\n\ntablet.addListener(changeTextHandler);\nchangeTextHandler(tablet);\n","'use strict';\n/* eslint-disable */\n$('#phone').mask('+7 (999) 999-99-99');\n$('#call-phone').mask('+7 (999) 999-99-99');\n/* eslint-enable */\n\nvar noJs = document.querySelectorAll('.no-js');\nnoJs.forEach(function (n) {\n  n.classList.remove('no-js');\n});\n"]}